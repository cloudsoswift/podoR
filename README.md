# podoR(포도알)
## GOAL
- Next.js(FE)와 Spring Boot(BE)로 이루어진 티켓팅 서비스
- HLS, RTMP 등 미디어 처리, 그리고 티켓팅시 발생하는 동시 요청을 효율적으로 처리할 수 있는 방법을 학습하기 위한 프로젝트
## 대략적인 구상
### 아키텍처 (Claude Generated)
┌─────────────────────────────────────────────────────────┐
│                    클라이언트                           │
│                    (Next.js)                            │
└─────────────────────────────────────────────────────────┘
                         │
                         ▼
┌─────────────────────────────────────────────────────────┐
│          API Gateway / Load Balancer                    │
└─────────────────────────────────────────────────────────┘
           │                              │
           ▼                              ▼
┌──────────────────┐          ┌──────────────────────┐
│  Spring Boot     │          │  Nginx-RTMP Cluster  │
│  (인증/비즈니스) │◄────────►│  (미디어 처리)       │
└──────────────────┘   HTTP   └──────────────────────┘
           │              Callback            │
           │                                  │
           ▼                                  ▼
┌──────────────────┐          ┌──────────────────────┐
│     Redis        │◄────────►│    Shared Redis      │
│  (세션, 캐시)    │          │  (스트림 키, 상태)   │
└──────────────────┘          └──────────────────────┘
           │
           ▼
┌──────────────────┐
│   PostgreSQL     │
│  (영구 데이터)   │
└──────────────────┘
- 사용자의 RTMP 요청 처리는 별도의 node.js 서버, 또는 Jaffree와 같은 Java 라이브러리로 변경할 수도 있음
### 사용할 기술 스택/의존성과 선택 이유
#### 프론트엔드
- React.js
- Next.js
- React-Query
- Zustand
- Emotion
- MSW
- Jest
- Typescript
#### 백엔드
- Spring
- redis
- nginx
- postgresql (or oracle)
### 개발 스텝
1. 기능 설계 및 React.js/Next.js를 사용한 화면 개발
2. Spring 서버 구축 및 인증/인가에 필요한 기능 설계, 구현
3. RTMP/HLS Request/Response 핸들링하는 서버 구현
4. RTMP/HLS Request/Response 처리시 인증/인가 정보 사용하도록 확장
5. 티켓팅 서비스 구현
6. Locust 등 부하 테스트 진행하며 동시 요청 처리 성능 확장 시키기
7. 백엔드 서비스들 Microservices로 쪼갠 뒤, Redis를 통해 인증/인가 정보 공유하도록 확장
## 서비스 기능
### 공통
- 회원가입 / 로그인
- 팔로잉
- 공연 목록 조회
- 공연 정보 조회
### 공연 주최자 관련
- 콘서트 등록/수정/삭제(CUD)
- 좌석 구매 현황 조회
- 라이브 공연 영상 업로드
### 공연 소비자 관련
- 공연 좌석 조회
- 공연 좌석 선택
- 공연 티켓 결제
- 구매한 공연 티켓 조회
- 구매한 공연 티켓 환불
- 라이브 공연 영상 요청 (공연 관람)